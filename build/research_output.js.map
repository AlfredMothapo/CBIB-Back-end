{"version":3,"sources":["../src/research_output.js"],"names":["ResearchOutput","constructor","title","pubYear","addInfo","type","firstName","lastName","publication_year","additional_info","db_con","proof_verified","proof_link","first_name","last_name","connection","getConnection","getProofVerified","getProofLink","save","sql","Promise","query","error"],"mappings":";;;;;;;AAAA;;AACA;AACO,MAAMA,cAAN,CAAqB;AACxBC,gBAAYC,KAAZ,EAAmBC,OAAnB,EAA4BC,OAA5B,EAAqCC,IAArC,EAA2CC,SAA3C,EAAsDC,QAAtD,EAAgE;AAC5D,aAAKL,KAAL,GAAaA,KAAb;AACA,aAAKM,gBAAL,GAAwBL,OAAxB;AACA,aAAKM,eAAL,GAAuBL,OAAvB;AACA,aAAKC,IAAL,GAAYA,IAAZ,CAJ4D,CAI1C;AAClB,aAAKK,MAAL,GAAc,0BAAd;AACA,aAAKC,cAAL,GAAsB,CAAtB;AACA,aAAKC,UAAL,GAAkB,KAAlB;AACA,aAAKC,UAAL,GAAkBP,SAAlB;AACA,aAAKQ,SAAL,GAAiBP,QAAjB;AACA,aAAKQ,UAAL,GAAkB,KAAKL,MAAL,CAAYM,aAAZ,EAAlB,CAV4D,CAUb;AAClD;AACDC,uBAAmB;AACjB,eAAO,KAAKN,cAAZ;AACD;AACDO,mBAAe;AACb,eAAO,KAAKN,UAAZ;AACD;AACDO,WAAO;AAAE;AACL,cAAMC,MAAM,2DACZ,iFADA;;AAGA,eAAO,IAAIC,OAAJ,CAAY,MAAM;AACpB,iBAAKN,UAAL,CAAgBO,KAAhB,CAAsBF,GAAtB,EAA2B,CAAC,KAAKlB,KAAN,EAAa,KAAKM,gBAAlB,EAAoC,KAAKH,IAAzC,EACzB,KAAKI,eADoB,EAEzB,KAAKG,UAFoB,EAER,KAAKD,cAFG,CAA3B,EAGIY,KAAD,IAAW;AACX,oBAAIA,KAAJ,EAAW;AACT,0BAAMA,KAAN;AACD;AACJ,aAPA;AAQJ,SATM,CAAP;AAUH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CwB;QAAfvB,c,GAAAA,c","file":"research_output.js","sourcesContent":["import { DBcon } from './db_connection';\r\n//\r\nexport class ResearchOutput {\r\n    constructor(title, pubYear, addInfo, type, firstName, lastName) {\r\n        this.title = title;\r\n        this.publication_year = pubYear;\r\n        this.additional_info = addInfo;\r\n        this.type = type; //Hardcoded here need to be int from Drop down values in front-end\r\n        this.db_con = new DBcon();\r\n        this.proof_verified = 0;\r\n        this.proof_link = 'www';\r\n        this.first_name = firstName;\r\n        this.last_name = lastName;\r\n        this.connection = this.db_con.getConnection(); //db connection\r\n    }\r\n    getProofVerified() {\r\n      return this.proof_verified;\r\n    }\r\n    getProofLink() {\r\n      return this.proof_link;\r\n    }\r\n    save() { //this function saves details of a research output.\r\n        const sql = 'INSERT INTO research_outputs(title, publication_year, ' +\r\n        'ro_type, additional_info, proof_link, proof_verified) VALUES (?, ?, ?, ?, ?, ?)';\r\n\r\n        return new Promise(() => {\r\n             this.connection.query(sql, [this.title, this.publication_year, this.type,\r\n               this.additional_info,\r\n               this.proof_link, this.proof_verified],\r\n                (error) => {\r\n                if (error) {\r\n                  throw error;\r\n                }\r\n            });\r\n        });\r\n    }\r\n    // createAuthor() {\r\n    //   const sql = 'INSERT INTO users (first_name, last_name,' +\r\n    //   'email,date_registered,password,verification_token,verified_status,access_id),' +\r\n    //   ' values(?,?,?,?,?,?,?,?)';\r\n    //   this.connection.query(sql, [this.first_name, this.last_name, 'someone@example.com',\r\n    // '2017/02/05', 'weweetwtwrtrwttw', 0, 1], (err) => {\r\n    //   if (err) {\r\n    //     throw err;\r\n    //   }\r\n    //   console.log('user created');\r\n    // });\r\n    // const sql2 = 'INSERT INTO authors';\r\n    // }\r\n}\r\n"]}