{"version":3,"sources":["../src/server.js"],"names":["db_con","connection","getConnection","stringify","require","express","cor","fs","app","use","static","get","req","resp","response","message","end","res","sql","query","err","result","fields","outputs","listen","console","log"],"mappings":";;AACA;;AACA;;AACA;AAHA;AAIA,IAAIA,SAAS,0BAAb;AACA,IAAIC,aAAaD,OAAOE,aAAP,EAAjB;AACA;AACA,IAAIC,YAAYC,QAAQ,qBAAR,CAAhB;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd,C,CAAkC;AAClC,IAAIE,MAAMF,QAAQ,MAAR,CAAV,C,CAA2B;AAC3B,IAAIG,KAAKH,QAAQ,IAAR,CAAT,C,CAAwB;AACxB,IAAII,MAAMH,SAAV;AACA;AACAG,IAAIC,GAAJ,CAAQJ,QAAQK,MAAR,CAAe,QAAf,CAAR,E,CAAmC;AACnC;AACAF,IAAIG,GAAJ,CAAQ,GAAR,EAAY,UAASC,GAAT,EAAaC,IAAb,EAAkB;AAC5B,QAAIC,WAAW,EAAf;AACAA,aAASC,OAAT,GAAmB,aAAnB,CAF4B,CAEM;AAClCF,SAAKG,GAAL,CAASb,UAAUW,QAAV,EAAmB,IAAnB,EAAwB,CAAxB,CAAT,EAH4B,CAGU;AACvC,CAJD;AAKAN,IAAIG,GAAJ,CAAQ,OAAR,EAAgB,UAAUM,GAAV,EAAcJ,IAAd,EAAoB;AAAE;AAClC,QAAIC,WAAU,EAAd;AACA,QAAII,MAAM,oBAAV;AACAjB,eAAWkB,KAAX,CAAiBD,GAAjB,EAAqB,UAAUE,GAAV,EAAcC,MAAd,EAAqBC,MAArB,EAA6B;AAC9C,YAAGF,GAAH,EAAQ,MAAMA,GAAN;AACRN,iBAASS,OAAT,GAAmBF,MAAnB;AACAR,aAAKG,GAAL,CAASb,UAAUW,QAAV,EAAmB,IAAnB,EAAwB,CAAxB,CAAT;AACH,KAJD;AAKH,CARD;;AAUAN,IAAIgB,MAAJ,CAAW,IAAX,EAAgB,MAAI;AAClBC,YAAQC,GAAR,CAAY,wCAAZ;AACD,CAFD","file":"server.js","sourcesContent":["//imports\r\nimport { DBcon } from \"./db_connection\";\r\nimport {ResearchOutput} from \"./research_output\";\r\n//database connection\r\nlet db_con = new DBcon();\r\nlet connection = db_con.getConnection();\r\n//other required modules\r\nlet stringify = require('json-stringify-safe');\r\nlet express = require('express'); //for converting circular objects to json\r\nlet cor = require(\"cors\"); //cross-site orign\r\nlet fs = require(\"fs\"); //file system\r\nlet app = express();\r\n//middlewares\r\napp.use(express.static(\"public\")); //serve static files\r\n//routes\r\napp.get(\"/\",function(req,resp){\r\n  var response = {};\r\n  response.message = \"Hello world\"; //response messag\r\n  resp.end(stringify(response,null,1)); //returns JSON\r\n});\r\napp.get(\"/home\",function (res,resp) { //returns all research outputs.\r\n    var response ={};\r\n    var sql = \"select * from post\";\r\n    connection.query(sql,function (err,result,fields) {\r\n        if(err) throw err;\r\n        response.outputs = result;\r\n        resp.end(stringify(response,null,1));\r\n    })\r\n})\r\n\r\napp.listen(3000,()=>{\r\n  console.log(\"server started: listening at port:3000\");\r\n});\r\n"]}