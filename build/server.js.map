{"version":3,"sources":["../server.js"],"names":["express","require","cors","bodyParser","app","use","static","corsOptions","origin","optionsSuccessStatus","jsonParser","json","get","req","resp","getBasic","getBasicById","post","saveResearchOutput","listen","console","log"],"mappings":";;AACA;;AACA;AACA,MAAMA,UAAUC,QAAQ,SAAR,CAAhB,C,CAAoC;AAHpC;AAIA,MAAMC,OAAOD,QAAQ,MAAR,CAAb,C,CAA8B;AAC9B,MAAME,aAAaF,QAAQ,aAAR,CAAnB;;AAEA,MAAMG,MAAMJ,SAAZ,C,CAAuB;AACvB;AACAI,IAAIC,GAAJ,CAAQL,QAAQM,MAAR,CAAe,QAAf,CAAR,E,CAAmC;AACnCF,IAAIC,GAAJ,CAAQH,MAAR,E,CAAiB;;AAEjB,MAAMK,cAAc;AAChBC,UAAQ,uBADQ;AAEhBC,wBAAsB,GAFN,CAEU;AAFV,CAApB;AAIA,MAAMC,aAAaP,WAAWQ,IAAX,EAAnB,C,CAAsC;AACtC;AAC4B;AAC5B;;AAEA;AACAP,IAAIQ,GAAJ,CAAQ,yBAAR,EAAmCV,KAAKK,WAAL,CAAnC,EACA,CAACM,GAAD,EAAMC,IAAN,KAAe;AAAE;AACf,qDAAyBC,QAAzB,CAAkCF,GAAlC,EAAuCC,IAAvC;AACD,CAHD;AAIA;AACAV,IAAIQ,GAAJ,CAAQ,oBAAR,EACA,CAACC,GAAD,EAAMC,IAAN,KAAe;AACb,qDAAyBE,YAAzB,CAAsCH,GAAtC,EAA2CC,IAA3C;AACD,CAHD;AAIA;AACAV,IAAIa,IAAJ,CAAS,UAAT,EAAqBP,UAArB,EAAiC,CAACG,GAAD,EAAMC,IAAN,KAAe;AAC9C,qDAAyBI,kBAAzB,CAA4CL,GAA5C,EAAiDC,IAAjD;AACD,CAFD;;AAIA;AACAV,IAAIe,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,UAAQC,GAAR,CAAY,wCAAZ;AACD,CAFD","file":"server.js","sourcesContent":["//imports\r\nimport { ResearchOutputController } from './controllers/researchOutputController';\r\n//other required modules\r\nconst express = require('express'); //for converting circular objects to json\r\nconst cors = require('cors'); //cross-site orign\r\nconst bodyParser = require('body-parser');\r\n\r\nconst app = express(); //express app\r\n//middlewares\r\napp.use(express.static('public')); //serve static files\r\napp.use(cors()); //enables all cors requests\r\n\r\nconst corsOptions = {\r\n    origin: 'http://localhost:8080',\r\n    optionsSuccessStatus: 200 // some legacy browsers (IE11, various SmartTVs) choke on 204\r\n};\r\nconst jsonParser = bodyParser.json(); //process json post request's body\r\n//==============================================================================\r\n                            ///routes\r\n//==============================================================================\r\n\r\n// 1.get basic research_outputs\r\napp.get('/basic-research-outputs', cors(corsOptions),\r\n(req, resp) => { //returns all research outputs.\r\n  ResearchOutputController.getBasic(req, resp);\r\n});\r\n// 2. get research_output given the id\r\napp.get('/detailed_view/:id',\r\n(req, resp) => {\r\n  ResearchOutputController.getBasicById(req, resp);\r\n});\r\n// 3. Create a new research output.\r\napp.post('/outputs', jsonParser, (req, resp) => {\r\n  ResearchOutputController.saveResearchOutput(req, resp);\r\n});\r\n\r\n//start the server on port 3000\r\napp.listen(3000, () => {\r\n  console.log('server started: listening at port:3000');\r\n});\r\n"]}